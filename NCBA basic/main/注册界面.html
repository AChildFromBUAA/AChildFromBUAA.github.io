<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>注册界面</title>
<script src="SpryAssets/SpryValidationSelect.js" type="text/javascript"></script>
<script language="javascript">
var i = 0;
var account=document.getElementById("account");
var password1=document.getElementById("password1");
var password2=document.getElementById("password2");
var name=document.getElementById("name");
var sex=document.getElementById("sex");
var email=document.getElementById("email");
var prefer=document.getElementById("prefer");
function check(){
	var password1=document.getElementById("password1");
	var password2=document.getElementById("password2");
	var email=document.getElementById("email");
	if(password1.value!=password2.value){
	    password2.setCustomValidity("密码不一致，请重新输入");
	}
	else{
		password2.setCustomValidity("");
	}
	if(!email.checkValidity()){
	    email.setCustomValidity("请输入正确的邮箱地址");
	}
}
function addi()
{
	var account=document.getElementById("account");
	var password1=document.getElementById("password1");
	var password2=document.getElementById("password2");
	var name=document.getElementById("name");
	var sex=document.getElementById("sex");
	var email=document.getElementById("email");
	var prefer=document.getElementById("prefer");
	var i = 0;
	if(account.value){
		i++;
	}
	if(password1.value){
		i++;
	}
	if(password2.value){
		i++;
	}
	if(name.value){
		i++;
	}
	if(sex.value){
		i++;
	}
	if(email.value){
		i++;
	}
	if(prefer.value){
		i++;
	}
	return i;
}
function addBar()
{
	var i = addi();
	var progressBar=document.getElementById('p');
	progressBar.getElementsByTagName('span') [0].textContent="0";
	updateProgress(i);
}
function updateProgress(newValue)
{
	var progressBar=document.getElementById('p');
	progressBar.value=newValue;
	progressBar.getElementsByTagName('span')[0].textContent=newValue;
}

</script>
<link href="SpryAssets/SpryValidationSelect.css" rel="stylesheet" type="text/css" />
</head>

<body>
<form id="register" method="get" onsubmit="check();">
<fieldset>
<legend>注册版面</legend>
<label for="account">*账号&nbsp;&nbsp;：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
  
 <input type="text" id="account" name="account" placeholder="请输入账号" spellcheck="false" onkeydown="addBar()" required />
<br /><br />

<label for="password1">*密码&nbsp;&nbsp;：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
<input type="password" id="password1" name="password1" placeholder="请输入密码" onkeydown="addBar()" required="required"/>
<br /><br />

<label for="password2">*确认密码&nbsp;&nbsp;：</label>
<input type="password" id="password2" name="password2" placeholder="请再次输入密码" onkeydown="addBar()" required="required"/>
<br /><br />

<label for="name">&nbsp;&nbsp;姓名&nbsp;&nbsp;：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
<input type="text" id="name" name="name" placeholder="请输入姓名" onkeydown="addBar()"/>
<br /><br />

<label for="sex">&nbsp;&nbsp;性别&nbsp;&nbsp;：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
<span id="spryselect1">
<label>
  <select name="sex" id="sex">
  <option value="男">男</option>
  <option value="女">女</option>
  </select>
</label>
<span class="selectRequiredMsg">请选择</span></span>
<br /><br />

<label for="email">&nbsp;&nbsp;E-mail&nbsp;：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
<input type="email" id="email" name="email" placeholder="请输入邮箱" onkeydown="addBar()" width="165" />
<br /><br />

<label for="prefer">&nbsp;&nbsp;偏好&nbsp;&nbsp;：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
<span id="spryselect2">
<label>
  <select name="prefer" id="prefer">
  <option value="NBA">NBA</option>
  <option value="CBA">CBA</option>
  </select>
</label>
<span class="selectRequiredMsg">请选择</span></span>

<p style="color:#F00">&nbsp;&nbsp;注：&nbsp;&nbsp;&nbsp;&nbsp;标记＊为必填选项</p>

资料完整度：<progress id="p" max=7 style="color:#3C0"><span>0</span>%</progress>
<br /><br />

<p>
<a href="主页.html">提交</a>
<input type="reset" value="重新填写" />
</p>

</fieldset>
</form>

<script type="text/javascript">
var spryselect1 = new Spry.Widget.ValidationSelect("spryselect1");
var spryselect2 = new Spry.Widget.ValidationSelect("spryselect2");
</script>
</body>
</html>
